using GameLoggd.Models.Domain;
using Microsoft.EntityFrameworkCore;

namespace GameLoggd.Data;

public static class DataSeeder
{
    public static async Task SeedAsync(ApplicationDbContext db)
    {
        if (!await db.Genres.AnyAsync())
        {
            var genres = new List<Genre>
            {
                new() { Name = "Action", Slug = "action" },
                new() { Name = "Adventure", Slug = "adventure" },
                new() { Name = "RPG", Slug = "rpg" },
                new() { Name = "Strategy", Slug = "strategy" },
                new() { Name = "Simulation", Slug = "simulation" },
                new() { Name = "Sports", Slug = "sports" },
                new() { Name = "Racing", Slug = "racing" },
                new() { Name = "Puzzle", Slug = "puzzle" },
                new() { Name = "Shooter", Slug = "shooter" },
                new() { Name = "Fighting", Slug = "fighting" },
                new() { Name = "Platformer", Slug = "platformer" },
                new() { Name = "Horror", Slug = "horror" }
            };
            await db.Genres.AddRangeAsync(genres);
            await db.SaveChangesAsync();
        }

        if (!await db.Platforms.AnyAsync())
        {
            var platforms = new List<Platform>
            {
                new() { Name = "PC", Slug = "pc", IconClass = "fa-solid fa-desktop" },
                new() { Name = "PlayStation 5", Slug = "ps5", IconClass = "fa-brands fa-playstation" },
                new() { Name = "PlayStation 4", Slug = "ps4", IconClass = "fa-brands fa-playstation" },
                new() { Name = "Xbox Series X", Slug = "xbox-series-x", IconClass = "fa-brands fa-xbox" },
                new() { Name = "Nintendo Switch", Slug = "switch", IconClass = "fa-solid fa-gamepad" },
                new() { Name = "Mobile", Slug = "mobile", IconClass = "fa-solid fa-mobile-screen" }
            };
            await db.Platforms.AddRangeAsync(platforms);
            await db.SaveChangesAsync();
        }
        // Seed Top Games (Robust incremental seed)
        // 1. Get existing games dictionary for updates
        var existingGames = await db.Games.ToListAsync();
        var existingGameMap = existingGames.ToDictionary(g => g.Slug);

        // Helper to get Ids locally
        var dbGenres = await db.Genres.ToListAsync();
        var dbPlatforms = await db.Platforms.ToListAsync();

        Genre? GetGenre(string slug) => dbGenres.FirstOrDefault(g => g.Slug == slug);
        Platform? GetPlatform(string slug) => dbPlatforms.FirstOrDefault(p => p.Slug == slug);

        // Master list of 50 games
        var allGames = new List<Game>
        {
            // --- EXISTING 15 (Keep them to ensure code coherence) ---
            new() { Title = "Baldur's Gate 3", Slug = "baldurs-gate-3", Year = 2023, Developer = "Larian Studios", Description = "An RPG set in the world of Dungeons & Dragons, offering unprecedented freedom.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/1/12/Baldur%27s_Gate_3_cover_art.jpg", Genres = new[]{GetGenre("rpg"), GetGenre("strategy")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps5"), GetPlatform("xbox-series-x")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Elden Ring", Slug = "elden-ring", Year = 2022, Developer = "FromSoftware", Description = "A fantasy action-RPG adventure set within a world created by Hidetaka Miyazaki.", ImagePath = "https://upload.wikimedia.org/wikipedia/commons/f/f6/Elden_Ring_-_cover.jpg", Genres = new[]{GetGenre("rpg"), GetGenre("action")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps5"), GetPlatform("xbox-series-x"), GetPlatform("ps4")}.Where(x=>x!=null).ToList()! },
            new() { Title = "The Witcher 3: Wild Hunt", Slug = "the-witcher-3-wild-hunt", Year = 2015, Developer = "CD Projekt Red", Description = "You are Geralt of Rivia, mercenary monster slayer.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/0/0c/Witcher_3_cover_art.jpg", Genres = new[]{GetGenre("rpg"), GetGenre("adventure")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps5"), GetPlatform("switch")}.Where(x=>x!=null).ToList()! },
            new() { Title = "God of War Ragnarök", Slug = "god-of-war-ragnarok", Year = 2022, Developer = "Santa Monica Studio", Description = "Kratos and Atreus must journey to each of the Nine Realms.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/e/ee/God_of_War_Ragnar%C3%B6k_cover.jpg", Genres = new[]{GetGenre("action"), GetGenre("adventure")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("ps5"), GetPlatform("ps4")}.Where(x=>x!=null).ToList()! },
            new() { Title = "The Legend of Zelda: Tears of the Kingdom", Slug = "tears-of-the-kingdom", Year = 2023, Developer = "Nintendo", Description = "Decide your own path through the sprawling landscapes of Hyrule.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/f/fb/The_Legend_of_Zelda_Tears_of_the_Kingdom_cover.jpg", Genres = new[]{GetGenre("adventure"), GetGenre("action")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("switch")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Red Dead Redemption 2", Slug = "red-dead-redemption-2", Year = 2018, Developer = "Rockstar Games", Description = "Arthur Morgan and the Van der Linde gang are outlaws on the run.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/4/44/Red_Dead_Redemption_II.jpg", Genres = new[]{GetGenre("action"), GetGenre("adventure")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps4"), GetPlatform("xbox-series-x")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Cyberpunk 2077", Slug = "cyberpunk-2077", Year = 2020, Developer = "CD Projekt Red", Description = "An open-world, action-adventure RPG set in Night City.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/9/9f/Cyberpunk_2077_box_art.jpg", Genres = new[]{GetGenre("rpg"), GetGenre("shooter")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps5"), GetPlatform("xbox-series-x")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Hades", Slug = "hades", Year = 2020, Developer = "Supergiant Games", Description = "Defy the god of the dead as you hack and slash out of the Underworld.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/c/cc/Hades_cover_art.jpg", Genres = new[]{GetGenre("action"), GetGenre("rpg")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("switch")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Grand Theft Auto V", Slug = "gta-v", Year = 2013, Developer = "Rockstar North", Description = "Three very different criminals plot their own chances of survival and success.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/a/a5/Grand_Theft_Auto_V.png", Genres = new[]{GetGenre("action"), GetGenre("adventure")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps5")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Minecraft", Slug = "minecraft", Year = 2011, Developer = "Mojang", Description = "Explore your own unique world, survive the night, and create anything you can imagine.", ImagePath = "https://upload.wikimedia.org/wikipedia/commons/2/2f/Minecraft_2024_cover_art.png", Genres = new[]{GetGenre("adventure"), GetGenre("simulation")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("switch"), GetPlatform("mobile")}.Where(x=>x!=null).ToList()! },
            new() { Title = "The Last of Us Part II", Slug = "the-last-of-us-part-ii", Year = 2020, Developer = "Naughty Dog", Description = "Ellie and Joel have settled down in Jackson, Wyoming.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/4/4f/TLOU_P2_Box_Art_2.png", Genres = new[]{GetGenre("action"), GetGenre("horror")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("ps4"), GetPlatform("ps5")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Persona 5 Royal", Slug = "persona-5-royal", Year = 2019, Developer = "Atlus", Description = "Don the mask of Joker and join the Phantom Thieves of Hearts.", ImagePath = "https://static.wikia.nocookie.net/megamitensei/images/a/a2/P5R_US_Box_Art.jpg", Genres = new[]{GetGenre("rpg")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("ps4"), GetPlatform("pc"), GetPlatform("switch")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Alan Wake 2", Slug = "alan-wake-2", Year = 2023, Developer = "Remedy Entertainment", Description = "Saga Anderson indicates ritualistic murders in a small town.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/thumb/8/85/Alan_Wake_2_box_art.jpg/220px-Alan_Wake_2_box_art.jpg", Genres = new[]{GetGenre("horror"), GetGenre("action")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps5")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Resident Evil 4", Slug = "resident-evil-4-remake", Year = 2023, Developer = "Capcom", Description = "Leon S. Kennedy tracks the president's kidnapped daughter.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/d/df/Resident_Evil_4_remake_cover_art.jpg", Genres = new[]{GetGenre("horror"), GetGenre("action")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps5")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Spider-Man 2", Slug = "spider-man-2", Year = 2023, Developer = "Insomniac Games", Description = "Peter Parker and Miles Morales return for an exciting new adventure.", ImagePath = "https://static.wikia.nocookie.net/marvels-spider-man/images/b/b3/Marvel%27s_Spider-Man_2_cover.jpg", Genres = new[]{GetGenre("action"), GetGenre("adventure")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("ps5")}.Where(x=>x!=null).ToList()! },

            // --- NEW 35 GAMES ---
            new() { Title = "Portal 2", Slug = "portal-2", Year = 2011, Developer = "Valve", Description = "A puzzle-platform game that challenges you to use wits over weaponry.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/f/f9/Portal2cover.jpg", Genres = new[]{GetGenre("puzzle"), GetGenre("platformer")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("xbox-series-x")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Hollow Knight", Slug = "hollow-knight", Year = 2017, Developer = "Team Cherry", Description = "Forge your own path in Hollow Knight! An epic action adventure through a vast ruined kingdom.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/0/04/Hollow_Knight_first_cover_art.webp", Genres = new[]{GetGenre("platformer"), GetGenre("action")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("switch")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Super Mario Odyssey", Slug = "super-mario-odyssey", Year = 2017, Developer = "Nintendo", Description = "Explore incredible places far from the Mushroom Kingdom as you join Mario and his new ally Cappy.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/8/8d/Super_Mario_Odyssey.jpg", Genres = new[]{GetGenre("platformer"), GetGenre("adventure")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("switch")}.Where(x=>x!=null).ToList()! },
            new() { Title = "BioShock", Slug = "bioshock", Year = 2007, Developer = "2K Boston", Description = "A shooter unlike any you've ever played, loaded with weapons and tactics never seen.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/6/6d/BioShock_cover.jpg", Genres = new[]{GetGenre("shooter"), GetGenre("horror")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("xbox-series-x")}.Where(x=>x!=null).ToList()! },
            new() { Title = "The Elder Scrolls V: Skyrim", Slug = "skyrim", Year = 2011, Developer = "Bethesda", Description = "The next chapter in the highly anticipated Elder Scrolls saga.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/1/15/The_Elder_Scrolls_V_Skyrim_cover.png", Genres = new[]{GetGenre("rpg"), GetGenre("adventure")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps4"), GetPlatform("ps5"), GetPlatform("xbox-series-x")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Mass Effect 2", Slug = "mass-effect-2", Year = 2010, Developer = "BioWare", Description = "Step into the role of Commander Shepard and recruit an elite team of diverse specialists.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/0/05/MassEffect2_cover.PNG", Genres = new[]{GetGenre("rpg"), GetGenre("shooter")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("xbox-series-x")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Bloodborne", Slug = "bloodborne", Year = 2015, Developer = "FromSoftware", Description = "Hunt your nightmares as you search for answers in the ancient city of Yharnam.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/6/68/Bloodborne_Cover_Wallpaper.jpg", Genres = new[]{GetGenre("action"), GetGenre("rpg"), GetGenre("horror")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("ps4"), GetPlatform("ps5")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Celeste", Slug = "celeste", Year = 2018, Developer = "Maddy Makes Games", Description = "Help Madeline survive her inner demons on her journey to the top of Celeste Mountain.", ImagePath = "https://upload.wikimedia.org/wikipedia/commons/e/e3/Celeste_box_art_full.png", Genres = new[]{GetGenre("platformer")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("switch")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Doom Eternal", Slug = "doom-eternal", Year = 2020, Developer = "id Software", Description = "Hell’s armies have invaded Earth. Become the Slayer using advanced weaponry.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/9/9d/Cover_Art_of_Doom_Eternal.png", Genres = new[]{GetGenre("shooter"), GetGenre("action")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps5"), GetPlatform("xbox-series-x")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Stardew Valley", Slug = "stardew-valley", Year = 2016, Developer = "ConcernedApe", Description = "You've inherited your grandfather's old farm plot in Stardew Valley.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/thumb/f/fd/Stardew_Valley_Box_Art.jpg/220px-Stardew_Valley_Box_Art.jpg", Genres = new[]{GetGenre("simulation"), GetGenre("rpg")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("switch"), GetPlatform("mobile")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Horizon Zero Dawn", Slug = "horizon-zero-dawn", Year = 2017, Developer = "Guerrilla Games", Description = "Experience Aloy’s entire legendary quest to unravel the mysteries of a world ruled by deadly Machines.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/thumb/4/49/Horizon_Zero_Dawn_%28cover_art%29.jpg/220px-Horizon_Zero_Dawn_%28cover_art%29.jpg", Genres = new[]{GetGenre("action"), GetGenre("adventure")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("ps4"), GetPlatform("pc")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Sekiro: Shadows Die Twice", Slug = "sekiro", Year = 2019, Developer = "FromSoftware", Description = "Carve your own clever path to vengeance in an all-new adventure from developer FromSoftware.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/6/6e/Sekiro_art.jpg", Genres = new[]{GetGenre("action"), GetGenre("adventure")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps4"), GetPlatform("xbox-series-x")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Outer Wilds", Slug = "outer-wilds", Year = 2019, Developer = "Mobius Digital", Description = "A strictly non-violent open world exploration indie game about a solar system trapped in an endless time loop.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/f/f6/Outer_Wilds_Steam_artwork.jpg", Genres = new[]{GetGenre("adventure"), GetGenre("puzzle")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps4"), GetPlatform("switch")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Disco Elysium", Slug = "disco-elysium", Year = 2019, Developer = "ZA/UM", Description = "A groundbreaking role playing game. You’re a detective with a unique skill system at your disposal.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/thumb/1/1c/Disco_Elysium_cover_art.jpg/220px-Disco_Elysium_cover_art.jpg", Genres = new[]{GetGenre("rpg")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps4"), GetPlatform("switch")}.Where(x=>x!=null).ToList()! },
            new() { Title = "It Takes Two", Slug = "it-takes-two", Year = 2021, Developer = "Hazelight", Description = "Embark on the craziest journey of your life in It Takes Two, a genre-bending platform adventure created purely for co-op.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/a/aa/It_Takes_Two_cover_art.png", Genres = new[]{GetGenre("platformer"), GetGenre("adventure")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps5")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Control", Slug = "control", Year = 2019, Developer = "Remedy Entertainment", Description = "After a secretive agency in New York is invaded by an otherworldly threat, you become the new Director.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/5/5c/Control_box_art.jpg", Genres = new[]{GetGenre("action"), GetGenre("adventure")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps5")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Death Stranding", Slug = "death-stranding", Year = 2019, Developer = "Kojima Productions", Description = "From legendary game creator Hideo Kojima comes an all-new, genre-defying experience.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/2/23/Death_Stranding.jpg", Genres = new[]{GetGenre("action"), GetGenre("adventure")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps5")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Final Fantasy VII Remake", Slug = "ff7-remake", Year = 2020, Developer = "Square Enix", Description = "A spectacular reimagining of one of the most visionary games ever.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/c/ce/FFVII_Remake_cover_art.jpg", Genres = new[]{GetGenre("rpg"), GetGenre("action")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("ps5"), GetPlatform("ps4"), GetPlatform("pc")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Resident Evil 2", Slug = "re2-remake", Year = 2019, Developer = "Capcom", Description = "A deadly virus engulfs the residents of Raccoon City in September of 1998.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/f/fd/Resident_Evil_2_Remake_cover_art.jpg", Genres = new[]{GetGenre("horror"), GetGenre("action")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps5")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Marvel's Spider-Man: Miles Morales", Slug = "miles-morales", Year = 2020, Developer = "Insomniac Games", Description = "Teenager Miles Morales travels to New York to follow in the footsteps of his mentor.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/a/a3/Spider-Man_Miles_Morales.jpeg", Genres = new[]{GetGenre("action"), GetGenre("adventure")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("ps5"), GetPlatform("pc")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Ghost of Tsushima", Slug = "ghost-of-tsushima", Year = 2020, Developer = "Sucker Punch", Description = "In the late 13th century, the Mongol empire has laid waste to entire nations along their campaign to conquer the East.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/b/b6/Ghost_of_Tsushima.jpg", Genres = new[]{GetGenre("action"), GetGenre("adventure")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("ps5"), GetPlatform("ps4")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Overwatch 2", Slug = "overwatch-2", Year = 2022, Developer = "Blizzard", Description = "A free-to-play, team-based action game set in the optimistic future.", ImagePath = "https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Overwatch_2_full_logo.svg/220px-Overwatch_2_full_logo.svg.png", Genres = new[]{GetGenre("shooter"), GetGenre("action")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps5"), GetPlatform("switch")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Fortnite", Slug = "fortnite", Year = 2017, Developer = "Epic Games", Description = "Create, play, and battle with friends called Fortnite.", ImagePath = "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Fortnite_poster.jpg/220px-Fortnite_poster.jpg", Genres = new[]{GetGenre("shooter"), GetGenre("action")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("switch"), GetPlatform("mobile"), GetPlatform("ps5")}.Where(x=>x!=null).ToList()! },
            new() { Title = "League of Legends", Slug = "league-of-legends", Year = 2009, Developer = "Riot Games", Description = "A team-based strategy game where two teams of five powerful champions face off.", ImagePath = "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d8/League_of_Legends_2019_vector.svg/200px-League_of_Legends_2019_vector.svg.png", Genres = new[]{GetGenre("strategy"), GetGenre("rpg")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Valorant", Slug = "valorant", Year = 2020, Developer = "Riot Games", Description = "A 5v5 character-based tactical shooter.", ImagePath = "https://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/Valorant_logo_-_pink_color_version.svg/200px-Valorant_logo_-_pink_color_version.svg.png", Genres = new[]{GetGenre("shooter"), GetGenre("strategy")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Cuphead", Slug = "cuphead", Year = 2017, Developer = "Studio MDHR", Description = "Cuphead is a classic run and gun action game focused heavily on boss battles.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/thumb/2/2d/Cuphead_cover_art.jpg/220px-Cuphead_cover_art.jpg", Genres = new[]{GetGenre("platformer"), GetGenre("action")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("switch")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Undertale", Slug = "undertale", Year = 2015, Developer = "Toby Fox", Description = "The RPG game where you don't have to destroy anyone.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/thumb/c/ce/Undertale_Kickstarter.png/220px-Undertale_Kickstarter.png", Genres = new[]{GetGenre("rpg")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("switch")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Metal Gear Solid V: The Phantom Pain", Slug = "mgs-v", Year = 2015, Developer = "Kojima Productions", Description = "The Soviet invasion of Afghanistan has brought a new edge to the Cold War.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/thumb/8/8f/Metal_Gear_Solid_V_The_Phantom_Pain_cover.jpg/220px-Metal_Gear_Solid_V_The_Phantom_Pain_cover.jpg", Genres = new[]{GetGenre("action"), GetGenre("shooter")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps4")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Uncharted 4: A Thief's End", Slug = "uncharted-4", Year = 2016, Developer = "Naughty Dog", Description = "Thrown back into the dangerous underworld he’d tried to leave behind, Nathan Drake must decide what he’s willing to sacrifice.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/thumb/a/a7/Uncharted_4_box_artwork.jpg/220px-Uncharted_4_box_artwork.jpg", Genres = new[]{GetGenre("action"), GetGenre("adventure")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("ps4"), GetPlatform("ps5")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Batman: Arkham City", Slug = "batman-arkham-city", Year = 2011, Developer = "Rocksteady", Description = "Batman: Arkham City builds upon the intense, atmospheric foundation of Batman: Arkham Asylum.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/0/00/Batman_Arkham_City_Game_Cover.jpg", Genres = new[]{GetGenre("action"), GetGenre("adventure")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("xbox-series-x")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Fallout: New Vegas", Slug = "fallout-new-vegas", Year = 2010, Developer = "Obsidian", Description = "Welcome to Vegas. New Vegas. It’s the kind of town where you dig your own grave prior to getting shot in the head.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/3/34/Fallout_New_Vegas.jpg", Genres = new[]{GetGenre("rpg"), GetGenre("shooter")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc")}.Where(x=>x!=null).ToList()! },
             new() { Title = "Dark Souls III", Slug = "dark-souls-3", Year = 2016, Developer = "FromSoftware", Description = "As fires fade and the world falls into ruin, journey into a universe filled with more colossal enemies and environments.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/b/bb/Dark_souls_3_cover_art.jpg", Genres = new[]{GetGenre("action"), GetGenre("rpg")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps4"), GetPlatform("xbox-series-x")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Apex Legends", Slug = "apex-legends", Year = 2019, Developer = "Respawn", Description = "Conquer with character in Apex Legends, a free-to-play Hero shooter.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/d/db/Apex_legends_cover.jpg", Genres = new[]{GetGenre("shooter"), GetGenre("action")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps5")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Street Fighter 6", Slug = "street-fighter-6", Year = 2023, Developer = "Capcom", Description = "Here comes a new challenger! Street Fighter 6 represents the next evolution of the Street Fighter series.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/thumb/e/ea/Street_Fighter_6_box_art.jpg/220px-Street_Fighter_6_box_art.jpg", Genres = new[]{GetGenre("fighting"), GetGenre("action")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps5")}.Where(x=>x!=null).ToList()! },
            new() { Title = "Resident Evil Village", Slug = "re-village", Year = 2021, Developer = "Capcom", Description = "Experience survival horror like never before in the eighth major installment in the storied Resident Evil franchise.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/thumb/2/2c/Resident_Evil_Village_cover.jpg/220px-Resident_Evil_Village_cover.jpg", Genres = new[]{GetGenre("horror"), GetGenre("action")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps5")}.Where(x=>x!=null).ToList()! },
             new() { Title = "Tetris Effect", Slug = "tetris-effect", Year = 2018, Developer = "Monstars", Description = "Tetris Effect is Tetris like you've never seen, heard, or felt it before.", ImagePath = "https://upload.wikimedia.org/wikipedia/en/thumb/1/14/Tetris_Effect_cover.jpg/220px-Tetris_Effect_cover.jpg", Genres = new[]{GetGenre("puzzle")}.Where(x=>x!=null).ToList()!, Platforms = new[]{GetPlatform("pc"), GetPlatform("ps4")}.Where(x=>x!=null).ToList()! }
        };

        foreach (var game in allGames)
        {
            if (existingGameMap.TryGetValue(game.Slug, out var existingGame))
            {
                // Update ImagePath if changed
                if (existingGame.ImagePath != game.ImagePath)
                {
                    existingGame.ImagePath = game.ImagePath;
                }
            }
            else
            {
                db.Games.Add(game);
            }
        }
        await db.SaveChangesAsync();
    }
}
